<!DOCTYPE html> 
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Opportunities</title>
    <link rel="icon" href="https://static.vecteezy.com/system/resources/previews/000/623/747/non_2x/hand-care-logo-template-vector-icon-business-symbols.jpg" type="image/jpg">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">

    <style>
        h2 {
            text-align: center;
        }
        /* General body styling */
        body {
            font-family: 'Roboto', sans-serif;
            background-color: #c6e2f9;
            color: #333; /* Sets text color */
            margin: 0;
            padding: 0;
        }

        /* Navbar styling */
        .custom-navbar {
            background-color: #2c587c; 
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1); /* Adds a subtle shadow to the navbar */
        }
        .custom-navbar .navbar-brand, 
        .custom-navbar .nav-link {
            color: white !important; /* White text color for links */
        }
        .custom-navbar .nav-link:hover {
            color: hsl(207, 62%, 18%) !important; /* Light blue hover effect */
        }

        .navbar-toggler {
            background-color: #40749f; /* Background color for the toggle button */
            border:black; /* Border color of the toggle button */
        }
        /* Form styling */
        #opportunityForm {
            background-color: #fff;
            border-radius: 5px; /* Rounds the corners */
            padding: 20px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);  /* Adds a light shadow */
        }

        #opportunityForm .form-group {
            margin-bottom: 1rem;  /* Adds space between form elements */
        }

        #opportunityForm input,
        #opportunityForm textarea {
            border: 1px solid #ced4da; /* Border color for inputs */
            border-radius: 5px;    /* Rounds corners of inputs */
        }

        #opportunityForm button {
            background-color: #28a745; /* Green background for the submit button */
            color: #fff; /* White text */
            border: none; /* Removes button border */
            border-radius: 5px; /* Rounds button corners */
            transition: background-color 0.3s; /* Smooth color transition */

        }

        #opportunityForm button:hover {
            background-color: #218838; /* Darkens button on hover */
        }

        /* Opportunity list styling */
        #opportunitiesList .list-group-item {
            border: 1px solid #e0e0e0; /* Light border */
            border-radius: 5px;
            background-color: #fff;
            margin-bottom: 15px; /* Adds spacing between items */
            padding: 15px;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1); /* Adds shadow to list items */
        }

        #opportunitiesList .list-group-item h5 {
            font-weight: bold; /* Bold title font */
            color: #007bff; /* Blue color for titles */
        }

        #opportunitiesList .list-group-item p {
            color: #555; /* Gray text color */
        }

        #opportunitiesList img {
            max-width: 100%; /* Restricts image width */
            border-radius: 5px; /* Rounds image corners */
        }

        /* Buttons in the opportunity list */
        #opportunitiesList .btn-warning {
            color: #fff;
            background-color: #ffc107;
            border: none;
            border-radius: 5px;
            transition: background-color 0.3s; /* Smooth transition on hover */
            margin-right: 5px;
        }

        #opportunitiesList .btn-warning:hover {
            background-color: #e0a800; ; /* Darkens yellow button on hover */
        }

        #opportunitiesList .btn-danger {
            color: #fff;
            background-color: #dc3545;
            border: none;
            border-radius: 5px;
            transition: background-color 0.3s;
        }

        #opportunitiesList .btn-danger:hover {
            background-color: #c82333;
        }

        /* Footer styling */
        .custom-footer {
            background-color: #2c587c; /* Matching the navbar background color */
            color: #fff;
            padding: 9px 0;
            font-size: 1 rem;
            text-align: center;
        }
    </style>
</head>
<body>
    <!-- Navbar -->
    <nav class="navbar navbar-expand-lg custom-navbar">
        <a class="navbar-brand" href="index.html">
            <img src="https://static.vecteezy.com/system/resources/previews/000/623/747/non_2x/hand-care-logo-template-vector-icon-business-symbols.jpg" alt="Logo" width="30" height="30" class="d-inline-block align-top">
            Volunteer Portal</a>

        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNav">
            <ul class="navbar-nav ml-auto">
                <li class="nav-item"><a class="nav-link" href="index.html">Home</a></li>
                <li class="nav-item"><a class="nav-link" href="Opportunities.html">Opportunities</a></li>
                <li class="nav-item"><a class="nav-link" href="Register.html">Register</a></li>
                <li class="nav-item"><a class="nav-link" href="signup.html">Signup</a></li>
                <li class="nav-item"><a class="nav-link" href="signin.html">Signin</a></li>
                <li class="nav-item"><a class="nav-link" href="Hour Logging.html">Hour Logging</a></li>
                <li class="nav-item"><a class="nav-link" href="Contact us.html">Contact Us</a></li>
            </ul>
        </div>
    </nav>

    <!-- Content -->
    <div class="container mt-5">
        <h2>Available Volunteering Opportunities</h2>
        
        <!-- Form to Add New Opportunity -->
        <form id="opportunityForm" class="mb-3">
            <div class="form-group">
                <input type="text" id="opportunityTitle" class="form-control" placeholder="Opportunity Title" required> <!-- Input for opportunity title -->
            </div>
            <div class="form-group">
                <textarea id="opportunityDescription" class="form-control" placeholder="Opportunity Description" required></textarea>
            </div>
            <div class="form-group">
                <input type="url" id="opportunityImage" class="form-control" placeholder="Image URL (optional)">
            </div>
            <button type="submit" class="btn btn-success">Add Opportunity</button> <!-- Button to add opportunity -->
        </form>

        <!-- List of Opportunities -->
        <div id="opportunitiesList" class="list-group">
            <!-- Predefined opportunities -->
            <div class="list-group-item" data-id="1">
                <h5>Park Cleanup</h5>
                <img src="https://bearsaver.com/cdn/shop/articles/Park_Clean_up_1024x1024.jpg?v=1691523743" alt="Park Cleanup" class="img-fluid my-2">
                <p>Join us to clean up the community park!</p>
                <p>Requirements: Age 16+.</p>
                <button class="btn btn-warning btn-sm" onclick="editOpportunity(this)">Edit</button>
                <button class="btn btn-danger btn-sm" onclick="deleteOpportunity(this)">Delete</button>
            </div>
            <div class="list-group-item" data-id="2">
                <h5>Beach Conservation</h5>
                <img src="https://thumbs.dreamstime.com/z/diverse-group-friends-cleaning-up-beach-collecting-trash-copy-space-actively-participating-307495801.jpg?ct=jpeg" alt="Beach Conservation" class="img-fluid my-2">
                <p>Protect marine life by cleaning up the beach.</p>
                <p>Requirements: Age 18+.</p>
                <button class="btn btn-warning btn-sm" onclick="editOpportunity(this)">Edit</button>
                <button class="btn btn-danger btn-sm" onclick="deleteOpportunity(this)">Delete</button>
            </div>
        </div>
    </div>

    <!-- JavaScript for CRUD Operations -->
    <script>
        const opportunityForm = document.getElementById("opportunityForm");  // Access the form element 
        const opportunitiesList = document.getElementById("opportunitiesList"); // Access the opportunity list container

        // Handle form submission to add a new opportunity
        opportunityForm.addEventListener("submit", function(e) { // Add an event listener to handle form submission
            e.preventDefault();  // Stop the form from refreshing the page.
            const title = document.getElementById("opportunityTitle").value; // Get the title entered by the user.
            const description = document.getElementById("opportunityDescription").value; // Get the description entered by the user.
            const image = document.getElementById("opportunityImage").value || 'https://via.placeholder.com/500x300'; // Get the image URL or set a default placeholder image.

            addOpportunity(title, description, image); // Call the function to add the new opportunity to the list.
            opportunityForm.reset();  // Clear the form fields for the next entry.
        });

        // Function to add an opportunity to the list
        function addOpportunity(title, description, image) { // Define a function that takes title, description, and image URL as parameters.
    const listItem = document.createElement("div"); // Create a new div to hold the opportunity.
    listItem.className = "list-group-item"; // Give the div a class for styling.
    listItem.innerHTML = ` 
        <h5>${title}</h5> 
        <img src="${image}" alt="${title}" class="img-fluid my-2">
        <p>${description}</p> 
        <button class="btn btn-warning btn-sm" onclick="editOpportunity(this)">Edit</button>
        <button class="btn btn-danger btn-sm" onclick="deleteOpportunity(this)">Delete</button> 
    `;

            opportunitiesList.appendChild(listItem); // Add the new opportunity to the list displayed on the page.
        }

        // Function to edit an opportunity
        function editOpportunity(button) { // Define a function that is triggered when the edit button is clicked.
            const listItem = button.parentElement; // Get the parent div of the button 
            const title = listItem.querySelector("h5").textContent; // Get the title from the heading inside the list item.
            const description = listItem.querySelector("p").textContent; // Get the description from the paragraph inside the list item.
            const image = listItem.querySelector("img").src;  // Get the image URL from the image tag inside the list item.

            document.getElementById("opportunityTitle").value = title; // Populate the title input with the current title for editing.
            document.getElementById("opportunityDescription").value = description; // Populate the description input with the current description for editing.
            document.getElementById("opportunityImage").value = image; // Populate the image input with the current image URL for editing.
            opportunitiesList.removeChild(listItem);  // Remove the list item so it can be replaced with the updated information.
        }

        // Function to delete an opportunity
        function deleteOpportunity(button) { //triggered when the delete button is clicked.
            const listItem = button.parentElement; // Get the parent div of the button
            opportunitiesList.removeChild(listItem); // // Remove the list item from the list displayed on the page.
        }
    </script>

    <!-- Footer -->
    <footer class="custom-footer">
        <p>&copy; 2024 Volunteer Portal. All rights reserved.</p>
    </footer>
    
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.10.2/dist/umd/popper.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
</body>
</html>
